<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>MQTT integration - Butler documentation</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "MQTT integration";
    var mkdocs_page_input_path = "mqtt.md";
    var mkdocs_page_url = "/mqtt/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-58487795-2', 'mountaindude.github.io/butler');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Butler documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../overview/">Overview and features</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../getting-started/">Getting started</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../project-layout/">Project layout</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../install-config/">Installation and configuration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../running/">Running Butler</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Features</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../rest/">REST API</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../log-events/">Log event handlers</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../real-time/">Real time metrics</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">MQTT integration</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#mqtt">MQTT</a></li>
                
                    <li><a class="toctree-l4" href="#outgoing_mqtt_-_publish">Outgoing MQTT - publish</a></li>
                
                    <li><a class="toctree-l4" href="#incoming_mqtt_-_subscribe">Incoming MQTT - subscribe</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../udp-client/">UDP client</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../sample-code/">Examples</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../security/">Security considerations</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../tools-used/">Tools used</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Butler documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Features &raquo;</li>
        
      
    
    <li>MQTT integration</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/mountaindude/butler" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="mqtt">MQTT<a class="headerlink" href="#mqtt" title="Permanent link">&para;</a></h1>
<p><a href="http://mqtt.org">MQTT</a> is a light weight publish-subscribe ("pub-sub") protocol.<br />
Popular in use in Internet of Things applications, there are client libraries available for many different languages and platforms. This is important, as there is a good chance other systems can find a way of sending MQTT messages, which Butler can then listen for/subscribe to.</p>
<h2 id="outgoing_mqtt_-_publish">Outgoing MQTT - publish<a class="headerlink" href="#outgoing_mqtt_-_publish" title="Permanent link">&para;</a></h2>
<p>Butler can post messages to MQTT topics. The <code>/mqqtPublishMessage</code> is used to achieve this.<br />
This way Butler can send status information and notifications to other systems, outside of Qlik Sense. Use cases include: </p>
<ul>
<li>Notify downstream systems that Sense has finished creating some data set that the downstream system is depending on.</li>
<li>Send debug or trace messages to MQTT instead of to the Sense log. Using a MQTT client (there are multiple ones on both Windows, OSX and Linux) you can the monitor the messages in real time. Very useful during development of tricky Sense load scripts!</li>
<li>Start Sense tasks (typically reloads) from the Sense load script. Very useful when you need to trigger a second app reload once the first app's load script reaches some specific point of execution.<br />
This way the scheduling and execution of Sense tasks can be made much more flexible than using the built in QMC scheduler.</li>
<li>Send messages to platforms such as Node-RED. Node-RED is an open source platform (with a graphical editor) intended for integrating different systems and data sources. As it is built on node.red there are many different modules available, offering integrations with all sorts of systems and protocols.<br />
Using Node.RED together with Qlik Sense and Butler, it is possible to interface with social media from the Sense load script (send a Tweet when some condition occur during app reload, for example).</li>
</ul>
<h2 id="incoming_mqtt_-_subscribe">Incoming MQTT - subscribe<a class="headerlink" href="#incoming_mqtt_-_subscribe" title="Permanent link">&para;</a></h2>
<p>Butler listens to all MQTT messages in the qliksense/# topic tree. Which in MQTT lingo means "listen to all messages in the qliksense topic, as well as in any subtopics".<br />
When Butler finds such a message, it is analysed and if the topic matches any of the predefined topics with special meaning, the associated tasks are carried out.  </p>
<p>Topics with special meaning are:</p>
<ul>
<li><code>qliksense/start_task</code>: Starts the Sense task identified by the ID sent in the message body. See the <a href="../sample-code/#use_mqtt_to_start_sense_tasks">Examples</a> secion.</li>
</ul>
<p>As Butler listens to all messages in qliksense/#, it can easily be extended with handlers for additional topics.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../udp-client/" class="btn btn-neutral float-right" title="UDP client">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../real-time/" class="btn btn-neutral" title="Real time metrics"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/mountaindude/butler" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../real-time/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../udp-client/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
